<!DOCTYPE html>
<html lang="en">
  
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>P5: Neighbourhood Map - Sighting Notebook</title>
    
    <!-- Material Design Lite: http://www.getmdl.io/ -->
    <link href='http://fonts.googleapis.com/css?family=PT+Serif' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://storage.googleapis.com/code.getmdl.io/1.0.0/material.teal-red.min.css" />
    <script src="https://storage.googleapis.com/code.getmdl.io/1.0.0/material.min.js"></script>
    
    <style type="text/css">
      html, body {height: 100%; margin: 0; padding: 0; font-family: 'PT Serif', Cambria, Cochin,
        Georgia, Times, Times New Roman, serif;}
      #map-canvas {width: 100%; height: 100%}
      body {background-color: #DDD}
      div {float: left}
      h3 {font-size: 25px; line-height: 0px; font-style: italic;}
      p, ul{margin: 2px; padding: 0; line-height: 18px;}
      ul {list-style: none; width: 255px; height: 100%}
      #filter-list {position: absolute; left: 0; height: 74%; overflow: auto}
      li {background-color: #F5F5F5; padding: 5px; margin: 5px 20px 15px 10px; cursor: pointer;
        width: 200px;box-shadow: 0 1px 1px 0 rgba(0,0,0,.14),0 1px 1px -2px rgba(0,0,0,.2),
        0 1px 1px 0 rgba(0,0,0,.12);}
      #photo-bar {position: absolute; bottom: 25px; width: 100%}
      #photo-bar ul {width: 100%; margin: 0; padding: 0; margin: 0; text-align: center}
      #photo-bar li {display: inline;  padding: 0px; margin: 5px; background-color: transparent; color: transparent}
      #photo-bar img {min-width: 50px; max-width: 100px; border-radius: 50%; border: #F5F5F5 solid 3px;}
      .speciesName {font-weight: bold; font-variant: small-caps; font-size: 18px;font-style: italic; color: #009688}
      .taxon {color: #626262; margin: 4px 10px 8px; font-size: 13px;}
      .commonNames {font-size: 14px; color: #3A3A3A;}
      .gm-style-iw p {margin-bottom: 12px}
      #addNew {position: absolute; bottom: 25px; right: 20px}
      #saveNew {position: absolute; bottom: 25px; right: 20px;background-color: #009688;display: none}
      .mdl-textfield__input {margin-left: 25px; width: 175px}
      .mdl-textfield__label {top: 20px}
      .mdl-textfield__label .material-icons {top: 20px; margin-left: -2px;}
      .mdl-textfield {  width: 200px; margin: -20px 18px; padding: 20px 0px;}
      .mdl-layout__drawer {overflow: hidden}
      .mdl-layout__drawer > .mdl-layout-title {  padding-left: 17px;}
      .filter{padding: 0px 15px 16px;margin-top: -10px;}
      #newSightingInfoWindow {display:none}
      #messages {width: 100%; position: absolute; top: 100px; display:none;}
      .dialog { text-align: center}
      .dialog span{ padding: 20px 16px 22px 34px; background-color: #F5F5F5; border-radius: 4px;
          font-family: 'Roboto','Helvetica','Arial',sans-serif;font-size: 16px;}
      .dialog span i{background-color: rgb(202, 202, 202);color: whitesmoke;
        border-radius: 50%;padding: 4px;margin: -5px -55px;border: 6px solid whitesmoke;
        position: absolute;}
      #map-canvas h2 {margin-top: 25%; text-align: center; color: #009688}
      #messageButton {margin-left: 10px;}
      @media only screen and (max-width: 400px) {
        #photo-bar ul li:nth-child(n + 5){display: none;}
      }
      @media only screen and (max-width: 800px) {
        #photo-bar img {width: 50px; border: #F5F5F5 solid 2px; margin-bottom: -10px;}
        .extract p {display: none;}
        h3 {font-size: 18px;}
      }
    </style>

    <script src="https://maps.googleapis.com/maps/api/js"></script>
  </head>
  
  <body>
    <div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">
      
      <header class="mdl-layout__header">
        <div class="mdl-layout__header-row">
          <span class="mdl-layout-title">Sightings</span>
          <!-- Add spacer, to align navigation to the right -->
          <div class="mdl-layout-spacer"></div>
          <nav class="mdl-navigation mdl-layout--large-screen-only">
            <!-- Navigation (empty for now) -->
          </nav>
        </div>
      </header>
      
      <div class="mdl-layout__drawer">
        <span class="mdl-layout-title">Filter by Species</span>
        <p class="filter">Filter your sightings by <em>names</em> or <em>classifications</em>,
        for example: 'plant', 'insect' or 'robin'.</p>
          
        <!-- Input field for filtering -->
        <div class="mdl-textfield mdl-js-textfield textfield-demo">
          <input class="mdl-textfield__input" type="text" id="sample1"
            pattern="[A-Z,a-z, ]*" data-bind="textInput: filterStr" placeholder="filter-list"/>
          <label class="mdl-textfield__label" for="sample1">
            <i class="material-icons">filter_list</i>
          </label>
          <span class="mdl-textfield__error">Please use letters and spaces only</span>
        </div>
      
        <div class="mdl-navigation">
          <!--all list items and map markers are generated here-->
          <ul id="filter-list" data-bind="foreach: filteredSpecies">
            <li data-bind="event: {
                click: $parent.listClick,
                mouseover: $parent.mapMarkerBounce,
                mouseout: $parent.mapMarkerPuncture
              },
              value: drawMapMarker()">
              <p class="speciesName" data-bind="text: species">Species</p>
              <p class="taxon" data-bind="text: taxon">Taxonomy</p>
              <p class="commonNames" data-bind="text: commonNames">Common Names</p>
            </li>
          </ul>
        </div>
        
      </div>
      
      <main class="mdl-layout__content">
        <div class="page-content">
          <!-- Not currently used, but required for MDL layout -->
        </div>
      </main>
      
      <!-- Main Page content -->
      <div id="map-canvas">
        <h2>
          Loading Google Maps...
        </h2>
      </div>
      
      <div id="photo-bar">
        <ul data-bind="foreach: photos">
          <li>
            <a data-bind="attr: {href: $data.url, title: $data.title}">
              <img data-bind="attr: {src: $data.src, alt: ''}">
            </a>
          </li>
        </ul>
      </div>
      
      <button class="mdl-button mdl-js-button mdl-button--fab mdl-button--colored
        mdl-button--raised mdl-js-ripple-effect" id="saveNew">
        <i class="material-icons">done</i>
      </button>
      
      <button class="mdl-button mdl-js-button mdl-button--fab disabled
        mdl-button--raised mdl-js-ripple-effect" id="addNew">
        <i class="material-icons">add</i>
      </button>
        
    </div>
    
    <!-- Google Maps InfoWindow Snippets -->
    <div id="newSightingInfoWindow">
      <p>Move the marker to the location you want.</p>
      <p><input id="search" type="text" placeholder="Try 'Canis lupus'"></p>
      <p>Enter a species name in 
        <a href="https://en.wikipedia.org/wiki/Binomial_nomenclature">
        binomial</a> form.<br>
        Try something like 'Rattus norvegicus'.<br>
        Or dimiss this box, by clicking the cross.</p>
    </div>
    
    <!-- Messages -->
    <div id="messages">
      <p class="dialog">
        <span class="mdl-button--raised">
          <i class="material-icons">done</i>
          New <em>Something wonderful</em> added.
          <button class="mdl-button mdl-js-button mdl-button--primary"
            id="messageButton">undo</button>
        </span>
      </p>
    </div>
    
    <!-- The Scripts -->
    <script src="scripts/jquery-2.1.4.min.js"></script>
    <script src="scripts/data.js"></script>
    <script src="scripts/knockout-latest.js"></script>
    <script src="scripts/app.js"></script>
  </body>

</html>